{"version":3,"sources":["webpack:///static/js/app.513b742b2e2ed588ab15.js","webpack:///./src/App.vue?9a2a","webpack:///./src/components/upload.vue?e9cb","webpack:///./src/App.vue?4aec","webpack:///./src/components/upload.vue?8394","webpack:///./src/index.js","webpack:///App.vue","webpack:///upload.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","injectStyle","ssrContext","Component","render","_vm","this","_h","$createElement","_c","_self","attrs","id","action","token","multiple","accept","on","on-upload","uploadFile","on-error","uploadErr","on-progress","progress","slot","_v","staticClass","_s","hashes","keys","_l","item","key","src","alt","directives","name","rawName","value","uploadMsg","expression","index","staticRenderFns","formId","method","enctype","type","domProps","pickerId","change","upload","_t","for","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","use","config","productionTip","el","template","components","App","a","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__components_upload_vue__","__WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default","data","methods","res","push","hash","e","loaded","total","props","String","default","Boolean","callback","Function","Date","getTime","_this","$nextTick","formData","FormData","document","getElementById","i","files","getAll","length","set","$http","post","then","$emit","body"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GCJjC,QAAAC,GAAAC,GACAF,EAAA,GAEA,GAAAG,GAAAH,EAAA,GAEAA,EAAA,IAEAA,EAAA,GAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUO,CAED,SAAUD,EAAQC,EAASC,GE5BjC,QAAAC,GAAAC,GACAF,EAAA,GAEA,GAAAG,GAAAH,EAAA,GAEAA,EAAA,IAEAA,EAAA,GAEAC,EAEA,kBAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SFmCM,SAAUD,EAAQC,GGnDxBD,EAAAC,SAAgBK,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,UACHE,OACAE,OAAAR,EAAAQ,OACAC,MAAAT,EAAAS,MACAC,SAAAV,EAAAU,SACAC,OAAAX,EAAAW,QAEAC,IACAC,YAAAb,EAAAc,WACAC,WAAAf,EAAAgB,UACAC,cAAAjB,EAAAkB,YAEGd,EAAA,YACHe,KAAA,SACGnB,EAAAoB,GAAA,KAAAhB,EAAA,YACHe,KAAA,WACGf,EAAA,QACHiB,YAAA,QACGrB,EAAAoB,GAAA,gBAAApB,EAAAoB,GAAA,KAAAhB,EAAA,OACHiB,YAAA,UACGjB,EAAA,MAAAJ,EAAAoB,GAAA,UAAApB,EAAAoB,GAAA,KAAAhB,EAAA,OACHE,OACAC,GAAA,YAEGH,EAAA,KAAAJ,EAAAoB,GAAA,SAAApB,EAAAsB,GAAAtB,EAAAuB,WAAAvB,EAAAoB,GAAA,KAAAhB,EAAA,KAAAJ,EAAAoB,GAAA,QAAApB,EAAAsB,GAAAtB,EAAAwB,WAAAxB,EAAAoB,GAAA,KAAAhB,EAAA,MAAAJ,EAAAyB,GAAAzB,EAAA,gBAAA0B,GACH,MAAAtB,GAAA,OACAuB,IAAAD,EACAL,YAAA,UACAf,OACAsB,IAAAF,EACAG,IAAA,eAGG7B,EAAAoB,GAAA,KAAAhB,EAAA,MAAAJ,EAAAyB,GAAAzB,EAAA,cAAA0B,GACH,MAAAtB,GAAA,OACAuB,IAAAD,EACAL,YAAA,UACAf,OACAsB,IAAAF,EACAG,IAAA,eAGG7B,EAAAoB,GAAA,KAAAhB,EAAA,OACH0B,aACAC,KAAA,OACAC,QAAA,SACAC,MAAAjC,EAAAkC,UAAA,OACAC,WAAA,qBAEAd,YAAA,QACAf,OACAC,GAAA,aAEGH,EAAA,MAAAJ,EAAAoB,GAAA,iBAAApB,EAAAoB,GAAA,KAAApB,EAAAyB,GAAAzB,EAAA,mBAAA0B,EAAAU,GACH,MAAAhC,GAAA,KACAuB,IAAAS,IACKpC,EAAAoB,GAAApB,EAAAsB,GAAAI,SACF,QACFW,qBHyDK,SAAU5C,EAAQC,GIxHxBD,EAAAC,SAAgBK,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,QACAE,OACAC,GAAAP,EAAAsC,OACAC,OAAAvC,EAAAuC,OACAC,QAAA,yBAEGpC,EAAA,SACHE,OACAyB,KAAA,QACAU,KAAA,UAEAC,UACAT,MAAAjC,EAAAS,SAEGT,EAAAoB,GAAA,KAAAhB,EAAA,SACHE,OACAyB,KAAA,OACAxB,GAAAP,EAAA2C,SACAF,KAAA,OACA9B,OAAAX,EAAAW,OACAD,SAAAV,EAAAU,UAEAE,IACAgC,OAAA5C,EAAA6C,UAEG7C,EAAAoB,GAAA,KAAAhB,EAAA,SACHE,OACAyB,KAAA,SACAU,KAAA,YAEGzC,EAAAoB,GAAA,KAAApB,EAAA8C,GAAA,YAAA9C,EAAAoB,GAAA,KAAAhB,EAAA,SACHE,OACAyC,IAAA/C,EAAA2C,YAEG3C,EAAA8C,GAAA,UAAA1C,EAAA,MAAAJ,EAAAoB,GAAA,qBACFiB,qBJ8HK,SAAU5C,EAAQC,KAMlB,SAAUD,EAAQC,KAKjB,CACC,CACA,CACA,CACA,CAEF,SAAUD,EAAQuD,EAAqBrD,GAE7C,YACAsD,QAAOC,eAAeF,EAAqB,cAAgBf,OAAO,GAC7C,IAAIkB,GAAoCxD,EAAoB,GACxDyD,EAAqCzD,EAAoB,GACzD0D,EAA6C1D,EAAoB2D,EAAEF,GKzL5FG,EAAA5D,EAAA,EAMAwD,GAAA,EAAIK,IAAID,EAAA,GAERJ,EAAA,EAAIM,OAAOC,eAAgB,EAG3B,GAAIP,GAAA,GACAQ,GAAI,OACJC,SAAU,SACVC,YACIC,IAAAT,EAAAU,MLiMF,SAAUtE,EAAQuD,EAAqBrD,GAE7C,YACAsD,QAAOC,eAAeF,EAAqB,cAAgBf,OAAO,GAC7C,IAAI+B,GAAqErE,EAAoB,IACzFsE,EAA6EtE,EAAoB2D,EAAEU,GACnGE,EAAuDvE,EAAoB,GAC3EwE,EAA+DxE,EAAoB2D,EAAEY,EMxL9GlB,GAAA,SN0NIjB,KMxNJ,MNyNI8B,YMtNJhB,OAAAsB,EAAAJ,GNyNIK,KAAM,WACF,OACI5D,OAAQ,2BACRG,OMxNZ,mCNyNYD,UMxNZ,ENyNYD,MAAO,yJACPc,UACAC,QACAU,eAGRmC,SACIvD,WAAY,SAAoBwD,GAC5BrE,KAAKsB,OAAOgD,KAAK,0CAA4CD,EMxNzEE,MNyNYvE,KAAKuB,KAAK+C,KAAK,0CAA4CD,EMxNvE3C,MN0NQX,UAAW,SAAmBsD,GAC1BrE,KAAKiC,UAAUqC,KAAKN,IMxNhCK,KN0NQpD,SAAU,SAAkBuD,GACxBxE,KAAKiC,UAAUqC,KAAK,aAAeE,EAAEC,OAAS,cAAgBD,EAAEE,MAAQ,cAAgBF,EAAEC,OAASD,EAAEE,MMxNjH,SN+NM,SAAUlF,EAAQuD,EAAqBrD,GAE7C,YACAsD,QAAOC,eAAeF,EAAqB,cAAgBf,OAAO,IOvQlEe,EAAA,SP6RI4B,OACIrC,QACIE,KO3RZoC,OP4RYC,QO1RZ,QP4RQtE,QACIiC,KO3RZoC,OP4RYC,QO1RZ,IP4RQrE,OACIgC,KO3RZoC,OP4RYC,QO1RZ,IP4RQnE,QACI8B,KO3RZoC,OP4RYC,QO1RZ,oCP4RQpE,UACI+B,KO3RZsC,QP4RYD,SO1RZ,GP4RQE,UACIvC,KO3RZwC,SP4RYH,QAAS,eAKjBV,KAAM,WACF,OACIzC,IO3RZ,GP4RYW,OAAQ,UAAW,GAAI4C,OO3RnCC,UP4RYxC,SAAU,UAAW,GAAIuC,OO1RrCC,YP6RId,SACIxB,OAAQ,WO3RhB,GAAAuC,GAAAnF,IP8RYA,MAAKoF,UAAU,WACX,GAAIC,GAAW,GAAIC,UAASC,SAASC,eAAeL,EO7RpE9C,QP8RgB,IAAI8C,EAAM1E,SAIN,IAHA,GAAIgF,GO7RxB,EP8RwBC,EAAQL,EAASM,OO7RzC,QP8RwBC,EAASF,EO7RjCE,OP8R2BH,EAAIG,EAAQH,IACfJ,EAASQ,IAAI,OAAQH,EO7R7CD,IP8RwBN,EAAMW,MAAMC,KAAKZ,EAAM5E,OAAQ8E,GAAUW,KAAK,SAAU3B,GACpDc,EAAMc,MAAM,YAAa5B,EO7RrD6B,YPiSoBf,GAAMW,MAAMC,KAAKZ,EAAM5E,OAAQ8E,GAAUW,KAAK,SAAU3B,GACpDc,EAAMc,MAAM,YAAa5B,EO7RjD6B,cPuSM,SAAU1G,EAAQC,OAKrB","file":"static/js/app.513b742b2e2ed588ab15.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(7)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(15),\n  /* template */\n  __webpack_require__(5),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(8)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(16),\n  /* template */\n  __webpack_require__(6),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-46dd337e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"token\": _vm.token,\n      \"multiple\": _vm.multiple,\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"on-upload\": _vm.uploadFile,\n      \"on-error\": _vm.uploadErr,\n      \"on-progress\": _vm.progress\n    }\n  }, [_c('template', {\n    slot: \"form\"\n  }), _vm._v(\" \"), _c('template', {\n    slot: \"picker\"\n  }, [_c('span', {\n    staticClass: \"btn\"\n  }, [_vm._v(\"上传图片\")])])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('h2', [_vm._v(\"上传结果\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_c('p', [_vm._v(\"hash: \" + _vm._s(_vm.hashes))]), _vm._v(\" \"), _c('p', [_vm._v(\"key: \" + _vm._s(_vm.keys))])]), _vm._v(\" \"), _c('div', _vm._l((_vm.hashes), function(item) {\n    return _c('img', {\n      key: item,\n      staticClass: \"viewimg\",\n      attrs: {\n        \"src\": item,\n        \"alt\": \"hashes\"\n      }\n    })\n  })), _vm._v(\" \"), _c('div', _vm._l((_vm.keys), function(item) {\n    return _c('img', {\n      key: item,\n      staticClass: \"viewimg\",\n      attrs: {\n        \"src\": item,\n        \"alt\": \"keys\"\n      }\n    })\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.uploadMsg.length),\n      expression: \"uploadMsg.length\"\n    }],\n    staticClass: \"block\",\n    attrs: {\n      \"id\": \"ajaxErr\"\n    }\n  }, [_c('h4', [_vm._v(\"uploadMsg: \")]), _vm._v(\" \"), _vm._l((_vm.uploadMsg), function(item, index) {\n    return _c('p', {\n      key: index\n    }, [_vm._v(_vm._s(item))])\n  })], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": _vm.formId,\n      \"method\": _vm.method,\n      \"enctype\": \"multipart/form-data\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"name\": \"token\",\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": _vm.token\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"file\",\n      \"id\": _vm.pickerId,\n      \"type\": \"file\",\n      \"accept\": _vm.accept,\n      \"multiple\": _vm.multiple\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"accept\",\n      \"type\": \"hidden\"\n    }\n  }), _vm._v(\" \"), _vm._t(\"form\")], 2), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": _vm.pickerId\n    }\n  }, [_vm._t(\"picker\", [_c('em', [_vm._v(\"upload\")])])], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_resource__ = __webpack_require__(1);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_resource__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n    el: '#app',\n    template: '<App/>',\n    components: {\n        App: __WEBPACK_IMPORTED_MODULE_1__App___default.a\n    }\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_upload_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_upload_vue__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    components: {\n        upload: __WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default.a\n    },\n    data: function data() {\n        return {\n            action: 'http://upload.qiniu.com/', // 替换自己的上传链接\n            accept: 'image/png, image/jpeg, image/gif',\n            multiple: true,\n            token: 'QWYn5TFQsLLU1pL5MFEmX3s5DmHdUThav9WyOWOm:ZIpAGEJRtGVzfLjqDTjJwF4FbeY=:eyJkZWxldGVBZnRlckRheXMiOjcsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUwNDQ0NDk1MH0=', // 从[http://jssdk.demo.qiniu.io/formdata]获取\n            hashes: [],\n            keys: [],\n            uploadMsg: []\n        };\n    },\n    methods: {\n        uploadFile: function uploadFile(res) {\n            this.hashes.push('http://7j1xky.com2.z0.glb.qiniucdn.com/' + res.hash);\n            this.keys.push('http://7j1xky.com2.z0.glb.qiniucdn.com/' + res.key);\n        },\n        uploadErr: function uploadErr(res) {\n            this.uploadMsg.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res));\n        },\n        progress: function progress(e) {\n            this.uploadMsg.push('e.loaded: ' + e.loaded + ', e.total: ' + e.total + ', percent: ' + e.loaded / e.total * 100);\n        }\n    }\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        method: {\n            type: String,\n            default: 'post'\n        },\n        action: {\n            type: String,\n            default: ''\n        },\n        token: {\n            type: String,\n            default: ''\n        },\n        accept: {\n            type: String,\n            default: 'image/png, image/jpeg, image/gif'\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        callback: {\n            type: Function,\n            default: function _default() {\n                // console.log('upload done');\n            }\n        }\n    },\n    data: function data() {\n        return {\n            key: '',\n            formId: 'upload' + new Date().getTime(),\n            pickerId: 'picker' + new Date().getTime()\n        };\n    },\n    methods: {\n        upload: function upload() {\n            var _this = this;\n\n            this.$nextTick(function () {\n                var formData = new FormData(document.getElementById(_this.formId));\n                if (_this.multiple) {\n                    var i = 0;\n                    var files = formData.getAll('file');\n                    var length = files.length;\n                    for (; i < length; i++) {\n                        formData.set('file', files[i]);\n                        _this.$http.post(_this.action, formData).then(function (res) {\n                            _this.$emit('on-upload', res.body);\n                        });\n                    }\n                } else {\n                    _this.$http.post(_this.action, formData).then(function (res) {\n                        _this.$emit('on-upload', res.body);\n                    });\n                }\n            });\n        }\n    }\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n],[14]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.513b742b2e2ed588ab15.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0451e830\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0451e830\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 2\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46dd337e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./upload.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./upload.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46dd337e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./upload.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-46dd337e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload.vue\n// module id = 4\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"token\": _vm.token,\n      \"multiple\": _vm.multiple,\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"on-upload\": _vm.uploadFile,\n      \"on-error\": _vm.uploadErr,\n      \"on-progress\": _vm.progress\n    }\n  }, [_c('template', {\n    slot: \"form\"\n  }), _vm._v(\" \"), _c('template', {\n    slot: \"picker\"\n  }, [_c('span', {\n    staticClass: \"btn\"\n  }, [_vm._v(\"上传图片\")])])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('h2', [_vm._v(\"上传结果\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_c('p', [_vm._v(\"hash: \" + _vm._s(_vm.hashes))]), _vm._v(\" \"), _c('p', [_vm._v(\"key: \" + _vm._s(_vm.keys))])]), _vm._v(\" \"), _c('div', _vm._l((_vm.hashes), function(item) {\n    return _c('img', {\n      key: item,\n      staticClass: \"viewimg\",\n      attrs: {\n        \"src\": item,\n        \"alt\": \"hashes\"\n      }\n    })\n  })), _vm._v(\" \"), _c('div', _vm._l((_vm.keys), function(item) {\n    return _c('img', {\n      key: item,\n      staticClass: \"viewimg\",\n      attrs: {\n        \"src\": item,\n        \"alt\": \"keys\"\n      }\n    })\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.uploadMsg.length),\n      expression: \"uploadMsg.length\"\n    }],\n    staticClass: \"block\",\n    attrs: {\n      \"id\": \"ajaxErr\"\n    }\n  }, [_c('h4', [_vm._v(\"uploadMsg: \")]), _vm._v(\" \"), _vm._l((_vm.uploadMsg), function(item, index) {\n    return _c('p', {\n      key: index\n    }, [_vm._v(_vm._s(item))])\n  })], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0451e830\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 5\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": _vm.formId,\n      \"method\": _vm.method,\n      \"enctype\": \"multipart/form-data\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"name\": \"token\",\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": _vm.token\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"file\",\n      \"id\": _vm.pickerId,\n      \"type\": \"file\",\n      \"accept\": _vm.accept,\n      \"multiple\": _vm.multiple\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"accept\",\n      \"type\": \"hidden\"\n    }\n  }), _vm._v(\" \"), _vm._t(\"form\")], 2), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": _vm.pickerId\n    }\n  }, [_vm._t(\"picker\", [_c('em', [_vm._v(\"upload\")])])], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-46dd337e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/upload.vue\n// module id = 6\n// module chunks = 0","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport VueResource from 'vue-resource'\r\n\r\nVue.use(VueResource)\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n    el: '#app',\r\n    template: '<App/>',\r\n    components: {\r\n        App\r\n    }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","<template>\r\n    <div id=\"app\">\r\n        <upload :action=\"action\" :token=\"token\" @on-upload=\"uploadFile\" :multiple=\"multiple\" :accept=\"accept\" @on-error=\"uploadErr\" @on-progress=\"progress\">\r\n            <template slot=\"form\">\r\n            </template>\r\n            <template slot=\"picker\">\r\n                <span class=\"btn\">上传图片</span>\r\n            </template>\r\n        </upload>\r\n        <div class=\"block\">\r\n            <h2>上传结果</h2>\r\n            <div id=\"result\">\r\n                <p>hash: {{hashes}}</p>\r\n                <p>key: {{keys}}</p>\r\n            </div>\r\n            <div>\r\n                <img :src=\"item\" alt=\"hashes\" class=\"viewimg\" v-for=\"item of hashes\" :key=\"item\">\r\n            </div>\r\n            <div>\r\n                <img :src=\"item\" alt=\"keys\" class=\"viewimg\" v-for=\"item of keys\" :key=\"item\">\r\n            </div>\r\n        </div>\r\n        <div class=\"block\" id=\"ajaxErr\" v-show=\"uploadMsg.length\">\r\n            <h4>uploadMsg: </h4>\r\n            <p v-for=\"(item, index) in uploadMsg\" :key=\"index\">{{item}}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import upload from './components/upload.vue'\r\n    export default {\r\n        name: 'app',\r\n        components: {\r\n            upload\r\n        },\r\n        data: () => {\r\n            return {\r\n                action: 'http://upload.qiniu.com/', // 替换自己的上传链接\r\n                accept: 'image/png, image/jpeg, image/gif',\r\n                multiple: true,\r\n                token: 'QWYn5TFQsLLU1pL5MFEmX3s5DmHdUThav9WyOWOm:ZIpAGEJRtGVzfLjqDTjJwF4FbeY=:eyJkZWxldGVBZnRlckRheXMiOjcsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUwNDQ0NDk1MH0=', // 从[http://jssdk.demo.qiniu.io/formdata]获取\r\n                hashes: [],\r\n                keys: [],\r\n                uploadMsg: []\r\n            }\r\n        },\r\n        methods: {\r\n            uploadFile (res) {\r\n                this.hashes.push(`http://7j1xky.com2.z0.glb.qiniucdn.com/${res.hash}`)\r\n                this.keys.push(`http://7j1xky.com2.z0.glb.qiniucdn.com/${res.key}`)\r\n            },\r\n            uploadErr (res) {\r\n                this.uploadMsg.push(JSON.stringify(res))\r\n            },\r\n            progress (e) {\r\n                this.uploadMsg.push(`e.loaded: ${e.loaded}, e.total: ${e.total}, percent: ${(e.loaded / e.total) * 100}`)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    #app {\r\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n        color: #2c3e50;\r\n        text-align: center;\r\n        margin-top: 60px;\r\n    }\r\n    .block,\r\n    .viewimg {\r\n        margin: 15px;\r\n    }\r\n    .btn {\r\n        padding: 5px 10px;\r\n        border: 1px solid #ccc;\r\n        border-radius: 3px;\r\n    }\r\n    .viewimg {\r\n        max-width: 200px;\r\n        border: 1px dashed #ccc;\r\n        border-radius: 4px;\r\n        padding: 5px;\r\n        background-color: #ccc;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?f2d2c85a","<template>\r\n<div>\r\n    <form :id=\"formId\" :method=\"method\" enctype=\"multipart/form-data\">\r\n        <input name=\"token\" type=\"hidden\" :value=\"token\">\r\n        <input name=\"file\" :id=\"pickerId\" type=\"file\" @change=\"upload\" :accept=\"accept\" :multiple=\"multiple\"/>\r\n        <input name=\"accept\" type=\"hidden\" />\r\n        <slot name=\"form\">\r\n        </slot>\r\n    </form>\r\n\r\n    <!-- add file -->\r\n    <label :for=\"pickerId\">\r\n            <slot name=\"picker\">\r\n                <em>upload</em>\r\n            </slot>\r\n        </label>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        method: {\r\n            type: String,\r\n            default: 'post'\r\n        },\r\n        action: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        token: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        accept: {\r\n            type: String,\r\n            default: 'image/png, image/jpeg, image/gif'\r\n        },\r\n        multiple: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        callback: {\r\n            type: Function,\r\n            default: () => {\r\n                // console.log('upload done');\r\n            }\r\n        }\r\n    },\r\n    data: function () {\r\n        return {\r\n            key: '',\r\n            formId: `upload${new Date().getTime()}`,\r\n            pickerId: `picker${new Date().getTime()}`\r\n        }\r\n    },\r\n    methods: {\r\n        upload () {\r\n            this.$nextTick(() => {\r\n                let formData = new FormData(document.getElementById(this.formId))\r\n                if (this.multiple) {\r\n                    let i = 0\r\n                    let files = formData.getAll('file')\r\n                    let length = files.length\r\n                    for (; i < length; i++) {\r\n                        formData.set('file', files[i])\r\n                        this.$http.post(this.action, formData).then(res => {\r\n                            this.$emit('on-upload', res.body)\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.$http.post(this.action, formData).then(res => {\r\n                        this.$emit('on-upload', res.body)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n    display: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// upload.vue?50f5da19"],"sourceRoot":""}