webpackJsonp([1],[,function(t,e,n){function a(t){n(10)}var o=n(0)(n(5),n(13),a,null,null);t.exports=o.exports},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),o=n(1),i=n.n(o),s=n(2);a.a.use(s.a),a.a.config.productionTip=!1,new a.a({el:"#app",template:"<App/>",components:{App:i.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),i=n(12),s=n.n(i);e.default={name:"app",components:{upload:s.a},data:function(){return{action:"http://upload.qiniu.com/",accept:"image/png, image/jpeg, image/gif",token:"QWYn5TFQsLLU1pL5MFEmX3s5DmHdUThav9WyOWOm:JcGnWGIzc0POt2eEWWqUUsW8bN0=:eyJkZWxldGVBZnRlckRheXMiOjcsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUwMjc5MTczMX0=",imghash:"",imgkey:"",uploadMsg:[]}},computed:{imgHash:function(){return"http://7j1xky.com2.z0.glb.qiniucdn.com/"+this.imghash},imgKey:function(){return"http://7j1xky.com2.z0.glb.qiniucdn.com/"+this.imgkey}},methods:{uploadFile:function(t){this.imghash=t.hash,this.imgkey=t.key},uploadErr:function(t){this.uploadMsg.push(o()(t))},progress:function(t){this.uploadMsg.push("e.loaded: "+t.loaded+", e.total: "+t.total+", percent: "+t.loaded/t.total*100)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{method:{type:String,default:"post"},action:{type:String,default:""},token:{type:String,default:""},accept:{type:String,default:"image/png, image/jpeg, image/gif"},callback:{type:Function,default:function(){}}},data:function(){return{key:"",formId:"upload"+(new Date).getTime(),pickerId:"picker"+(new Date).getTime()}},methods:{upload:function(){var t=this,e=this;this.$nextTick(function(){var n=new FormData(document.getElementById(t.formId));t.$http.post(t.action,n,{progress:function(t){t.lengthComputable&&e.$emit("on-progress",t)}}).then(function(e){t.$emit("on-upload",e.body)},function(e){t.$emit("on-error",e.body)})})}}}},,,,function(t,e){},function(t,e){},function(t,e,n){function a(t){n(11)}var o=n(0)(n(6),n(14),a,"data-v-46dd337e",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("upload",{attrs:{action:t.action,token:t.token,accept:t.accept},on:{"on-upload":t.uploadFile,"on-error":t.uploadErr,"on-progress":t.progress}},[n("template",{slot:"form"}),t._v(" "),n("template",{slot:"picker"},[n("span",{staticClass:"btn"},[t._v("上传图片")])])],2),t._v(" "),n("div",{staticClass:"block"},[n("h2",[t._v("上传结果")]),t._v(" "),n("div",{attrs:{id:"result"}},[n("p",[t._v("hash: "+t._s(t.imghash))]),t._v(" "),n("p",[t._v("key: "+t._s(t.imgkey))])]),t._v(" "),n("img",{staticClass:"viewimg",attrs:{src:t.imgHash,alt:"imgHash"}}),t._v(" "),n("img",{staticClass:"viewimg",attrs:{src:t.imgKey,alt:"imgKey"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.uploadMsg.length,expression:"uploadMsg.length"}],staticClass:"block",attrs:{id:"ajaxErr"}},[n("h4",[t._v("uploadMsg: ")]),t._v(" "),t._l(t.uploadMsg,function(e,a){return n("p",{key:a},[t._v(t._s(e))])})],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{attrs:{id:t.formId,method:t.method,enctype:"multipart/form-data"}},[n("input",{attrs:{name:"token",type:"hidden"},domProps:{value:t.token}}),t._v(" "),n("input",{attrs:{name:"file",id:t.pickerId,type:"file",accept:t.accept},on:{change:t.upload}}),t._v(" "),n("input",{attrs:{name:"accept",type:"hidden"}}),t._v(" "),t._t("form")],2),t._v(" "),n("label",{attrs:{for:t.pickerId}},[t._t("picker",[n("em",[t._v("upload")])])],2)])},staticRenderFns:[]}},,,function(t,e){}],[4]);
//# sourceMappingURL=app.4d5fa51e44b352a2c3c5.js.map