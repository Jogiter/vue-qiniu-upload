{"version":3,"sources":["webpack:///static/js/app.4d5fa51e44b352a2c3c5.js","webpack:///./src/App.vue?7254","webpack:///./src/index.js","webpack:///App.vue","webpack:///upload.vue","webpack:///./src/components/upload.vue?4b9c","webpack:///./src/App.vue?6604","webpack:///./src/components/upload.vue?bdf6"],"names":["webpackJsonp","module","exports","__webpack_require__","injectStyle","ssrContext","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","use","config","productionTip","el","template","components","App","a","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__components_upload_vue__","__WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default","name","upload","data","action","accept","token","imghash","imgkey","uploadMsg","computed","imgHash","this","imgKey","methods","uploadFile","res","hash","key","uploadErr","push","progress","e","loaded","total","props","method","type","String","default","callback","Function","formId","Date","getTime","pickerId","_this","that","$nextTick","formData","FormData","document","getElementById","$http","post","lengthComputable","$emit","then","body","render","_vm","_h","$createElement","_c","_self","attrs","id","on","on-upload","on-error","on-progress","slot","_v","staticClass","_s","src","alt","directives","rawName","expression","_l","item","index","staticRenderFns","enctype","domProps","change","_t","for"],"mappings":"AAAAA,cAAc,IACP,CAED,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,IAEA,GAAAG,GAAAH,EAAA,GAEAA,EAAA,GAEAA,EAAA,IAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDSO,CACA,CAED,SAAUD,EAAQM,EAAqBJ,GAE7C,YACAK,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAAoCR,EAAoB,GACxDS,EAAqCT,EAAoB,GACzDU,EAA6CV,EAAoBW,EAAEF,GElC5FG,EAAAZ,EAAA,EAMAQ,GAAA,EAAIK,IAAID,EAAA,GAERJ,EAAA,EAAIM,OAAOC,eAAgB,EAG3B,GAAIP,GAAA,GACAQ,GAAI,OACJC,SAAU,SACVC,YACIC,IAAAT,EAAAU,MF0CF,SAAUtB,EAAQM,EAAqBJ,GAE7C,YACAK,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIc,GAAqErB,EAAoB,GACzFsB,EAA6EtB,EAAoBW,EAAEU,GACnGE,EAAuDvB,EAAoB,IAC3EwB,EAA+DxB,EAAoBW,EAAEY,EGrC9GnB,GAAA,SHmEIqB,KGjEJ,MHkEIP,YG/DJQ,OAAAF,EAAAJ,GHkEIO,KAAM,WACF,OACIC,OAAQ,2BACRC,OGjEZ,mCHkEYC,MAAO,yJACPC,QGjEZ,GHkEYC,OGjEZ,GHkEYC,eAGRC,UACIC,QAAS,WACL,MAAO,0CAA4CC,KGjE/DL,SHmEQM,OAAQ,WACJ,MAAO,0CAA4CD,KGjE/DJ,SHoEIM,SACIC,WAAY,SAAoBC,GAC5BJ,KAAKL,QAAUS,EGjE3BC,KHkEYL,KAAKJ,OAASQ,EGjE1BE,KHmEQC,UAAW,SAAmBH,GAC1BJ,KAAKH,UAAUW,KAAKtB,IGjEhCkB,KHmEQK,SAAU,SAAkBC,GACxBV,KAAKH,UAAUW,KAAK,aAAeE,EAAEC,OAAS,cAAgBD,EAAEE,MAAQ,cAAgBF,EAAEC,OAASD,EAAEE,MGjEjH,SHwEM,SAAUlD,EAAQM,EAAqBJ,GAE7C,YACAK,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,IInHlEH,EAAA,SJyII6C,OACIC,QACIC,KIvIZC,OJwIYC,QItIZ,QJwIQzB,QACIuB,KIvIZC,OJwIYC,QItIZ,IJwIQvB,OACIqB,KIvIZC,OJwIYC,QItIZ,IJwIQxB,QACIsB,KIvIZC,OJwIYC,QItIZ,oCJwIQC,UACIH,KIvIZI,SJwIYF,QAAS,eAKjB1B,KAAM,WACF,OACIe,IIvIZ,GJwIYc,OAAQ,UAAW,GAAIC,OIvInCC,UJwIYC,SAAU,UAAW,GAAIF,OItIrCC,YJyIIpB,SACIZ,OAAQ,WIvIhB,GAAAkC,GAAAxB,KJ0IgByB,EIzIhBzB,IJ0IYA,MAAK0B,UAAU,WACX,GAAIC,GAAW,GAAIC,UAASC,SAASC,eAAeN,EIzIpEJ,QJ0IgBI,GAAMO,MAAMC,KAAKR,EAAMhC,OAAQmC,GAC3BlB,SAAU,SAAkBC,GACpBA,EAAEuB,kBACFR,EAAKS,MAAM,cIzIvCxB,MAHAyB,KAAA,SAAA/B,GJgJoBoB,EAAMU,MAAM,YAAa9B,EIzI7CgC,OJ0ImB,SAAUhC,GACToB,EAAMU,MAAM,WAAY9B,EIzI5CgC,cJiJO,CACA,CACA,CAED,SAAU1E,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,EAASC,GKpOjC,QAAAC,GAAAC,GACAF,EAAA,IAEA,GAAAG,GAAAH,EAAA,GAEAA,EAAA,GAEAA,EAAA,IAEAC,EAEA,kBAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SL2OM,SAAUD,EAAQC,GM3PxBD,EAAAC,SAAgB0E,OAAA,WAAmB,GAAAC,GAAAtC,KAAauC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,UACHE,OACAnD,OAAA8C,EAAA9C,OACAE,MAAA4C,EAAA5C,MACAD,OAAA6C,EAAA7C,QAEAoD,IACAC,YAAAR,EAAAnC,WACA4C,WAAAT,EAAA/B,UACAyC,cAAAV,EAAA7B,YAEGgC,EAAA,YACHQ,KAAA,SACGX,EAAAY,GAAA,KAAAT,EAAA,YACHQ,KAAA,WACGR,EAAA,QACHU,YAAA,QACGb,EAAAY,GAAA,gBAAAZ,EAAAY,GAAA,KAAAT,EAAA,OACHU,YAAA,UACGV,EAAA,MAAAH,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAT,EAAA,OACHE,OACAC,GAAA,YAEGH,EAAA,KAAAH,EAAAY,GAAA,SAAAZ,EAAAc,GAAAd,EAAA3C,YAAA2C,EAAAY,GAAA,KAAAT,EAAA,KAAAH,EAAAY,GAAA,QAAAZ,EAAAc,GAAAd,EAAA1C,aAAA0C,EAAAY,GAAA,KAAAT,EAAA,OACHU,YAAA,UACAR,OACAU,IAAAf,EAAAvC,QACAuD,IAAA,aAEGhB,EAAAY,GAAA,KAAAT,EAAA,OACHU,YAAA,UACAR,OACAU,IAAAf,EAAArC,OACAqD,IAAA,cAEGhB,EAAAY,GAAA,KAAAT,EAAA,OACHc,aACAlE,KAAA,OACAmE,QAAA,SACArF,MAAAmE,EAAAzC,UAAA,OACA4D,WAAA,qBAEAN,YAAA,QACAR,OACAC,GAAA,aAEGH,EAAA,MAAAH,EAAAY,GAAA,iBAAAZ,EAAAY,GAAA,KAAAZ,EAAAoB,GAAApB,EAAA,mBAAAqB,EAAAC,GACH,MAAAnB,GAAA,KACAnC,IAAAsD,IACKtB,EAAAY,GAAAZ,EAAAc,GAAAO,SACF,QACFE,qBNiQK,SAAUnG,EAAQC,GOzTxBD,EAAAC,SAAgB0E,OAAA,WAAmB,GAAAC,GAAAtC,KAAauC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,QACAE,OACAC,GAAAN,EAAAlB,OACAN,OAAAwB,EAAAxB,OACAgD,QAAA,yBAEGrB,EAAA,SACHE,OACAtD,KAAA,QACA0B,KAAA,UAEAgD,UACA5F,MAAAmE,EAAA5C,SAEG4C,EAAAY,GAAA,KAAAT,EAAA,SACHE,OACAtD,KAAA,OACAuD,GAAAN,EAAAf,SACAR,KAAA,OACAtB,OAAA6C,EAAA7C,QAEAoD,IACAmB,OAAA1B,EAAAhD,UAEGgD,EAAAY,GAAA,KAAAT,EAAA,SACHE,OACAtD,KAAA,SACA0B,KAAA,YAEGuB,EAAAY,GAAA,KAAAZ,EAAA2B,GAAA,YAAA3B,EAAAY,GAAA,KAAAT,EAAA,SACHE,OACAuB,IAAA5B,EAAAf,YAEGe,EAAA2B,GAAA,UAAAxB,EAAA,MAAAH,EAAAY,GAAA,qBACFW,qBP8TO,CACA,CAEF,SAAUnG,EAAQC,OAKrB","file":"static/js/app.4d5fa51e44b352a2c3c5.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(10)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(5),\n  /* template */\n  __webpack_require__(13),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_resource__ = __webpack_require__(2);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_resource__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n    el: '#app',\n    template: '<App/>',\n    components: {\n        App: __WEBPACK_IMPORTED_MODULE_1__App___default.a\n    }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_upload_vue__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_upload_vue__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    components: {\n        upload: __WEBPACK_IMPORTED_MODULE_1__components_upload_vue___default.a\n    },\n    data: function data() {\n        return {\n            action: 'http://upload.qiniu.com/', // 替换自己的上传链接\n            accept: 'image/png, image/jpeg, image/gif',\n            token: 'QWYn5TFQsLLU1pL5MFEmX3s5DmHdUThav9WyOWOm:JcGnWGIzc0POt2eEWWqUUsW8bN0=:eyJkZWxldGVBZnRlckRheXMiOjcsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUwMjc5MTczMX0=', // 从[http://jssdk.demo.qiniu.io/formdata]获取\n            imghash: '',\n            imgkey: '',\n            uploadMsg: []\n        };\n    },\n    computed: {\n        imgHash: function imgHash() {\n            return 'http://7j1xky.com2.z0.glb.qiniucdn.com/' + this.imghash;\n        },\n        imgKey: function imgKey() {\n            return 'http://7j1xky.com2.z0.glb.qiniucdn.com/' + this.imgkey;\n        }\n    },\n    methods: {\n        uploadFile: function uploadFile(res) {\n            this.imghash = res.hash;\n            this.imgkey = res.key;\n        },\n        uploadErr: function uploadErr(res) {\n            this.uploadMsg.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res));\n        },\n        progress: function progress(e) {\n            this.uploadMsg.push('e.loaded: ' + e.loaded + ', e.total: ' + e.total + ', percent: ' + e.loaded / e.total * 100);\n        }\n    }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        method: {\n            type: String,\n            default: 'post'\n        },\n        action: {\n            type: String,\n            default: ''\n        },\n        token: {\n            type: String,\n            default: ''\n        },\n        accept: {\n            type: String,\n            default: 'image/png, image/jpeg, image/gif'\n        },\n        callback: {\n            type: Function,\n            default: function _default() {\n                // console.log('upload done');\n            }\n        }\n    },\n    data: function data() {\n        return {\n            key: '',\n            formId: 'upload' + new Date().getTime(),\n            pickerId: 'picker' + new Date().getTime()\n        };\n    },\n    methods: {\n        upload: function upload() {\n            var _this = this;\n\n            var that = this;\n            this.$nextTick(function () {\n                var formData = new FormData(document.getElementById(_this.formId));\n                _this.$http.post(_this.action, formData, {\n                    progress: function progress(e) {\n                        if (e.lengthComputable) {\n                            that.$emit('on-progress', e);\n                        }\n                    }\n                }).then(function (res) {\n                    _this.$emit('on-upload', res.body);\n                }, function (res) {\n                    _this.$emit('on-error', res.body);\n                });\n            });\n        }\n    }\n});\n\n/***/ }),\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(11)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(6),\n  /* template */\n  __webpack_require__(14),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-46dd337e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"token\": _vm.token,\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"on-upload\": _vm.uploadFile,\n      \"on-error\": _vm.uploadErr,\n      \"on-progress\": _vm.progress\n    }\n  }, [_c('template', {\n    slot: \"form\"\n  }), _vm._v(\" \"), _c('template', {\n    slot: \"picker\"\n  }, [_c('span', {\n    staticClass: \"btn\"\n  }, [_vm._v(\"上传图片\")])])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('h2', [_vm._v(\"上传结果\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_c('p', [_vm._v(\"hash: \" + _vm._s(_vm.imghash))]), _vm._v(\" \"), _c('p', [_vm._v(\"key: \" + _vm._s(_vm.imgkey))])]), _vm._v(\" \"), _c('img', {\n    staticClass: \"viewimg\",\n    attrs: {\n      \"src\": _vm.imgHash,\n      \"alt\": \"imgHash\"\n    }\n  }), _vm._v(\" \"), _c('img', {\n    staticClass: \"viewimg\",\n    attrs: {\n      \"src\": _vm.imgKey,\n      \"alt\": \"imgKey\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.uploadMsg.length),\n      expression: \"uploadMsg.length\"\n    }],\n    staticClass: \"block\",\n    attrs: {\n      \"id\": \"ajaxErr\"\n    }\n  }, [_c('h4', [_vm._v(\"uploadMsg: \")]), _vm._v(\" \"), _vm._l((_vm.uploadMsg), function(item, index) {\n    return _c('p', {\n      key: index\n    }, [_vm._v(_vm._s(item))])\n  })], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": _vm.formId,\n      \"method\": _vm.method,\n      \"enctype\": \"multipart/form-data\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"name\": \"token\",\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": _vm.token\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"file\",\n      \"id\": _vm.pickerId,\n      \"type\": \"file\",\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"accept\",\n      \"type\": \"hidden\"\n    }\n  }), _vm._v(\" \"), _vm._t(\"form\")], 2), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": _vm.pickerId\n    }\n  }, [_vm._t(\"picker\", [_c('em', [_vm._v(\"upload\")])])], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 15 */,\n/* 16 */,\n/* 17 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n],[4]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.4d5fa51e44b352a2c3c5.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0451e830\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0451e830\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 1\n// module chunks = 1","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport VueResource from 'vue-resource'\r\n\r\nVue.use(VueResource)\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n    el: '#app',\r\n    template: '<App/>',\r\n    components: {\r\n        App\r\n    }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","<template>\n    <div id=\"app\">\n        <upload :action=\"action\" :token=\"token\" @on-upload=\"uploadFile\" :accept=\"accept\" @on-error=\"uploadErr\" @on-progress=\"progress\">\n            <template slot=\"form\">\n            </template>\n            <template slot=\"picker\">\n                <span class=\"btn\">上传图片</span>\n            </template>\n        </upload>\n        <div class=\"block\">\n            <h2>上传结果</h2>\n            <div id=\"result\">\n                <p>hash: {{imghash}}</p>\n                <p>key: {{imgkey}}</p>\n            </div>\n            <img :src=\"imgHash\" alt=\"imgHash\" class=\"viewimg\">\n            <img :src=\"imgKey\" alt=\"imgKey\" class=\"viewimg\">\n        </div>\n        <div class=\"block\" id=\"ajaxErr\" v-show=\"uploadMsg.length\">\n            <h4>uploadMsg: </h4>\n            <p v-for=\"(item, index) in uploadMsg\" :key=\"index\">{{item}}</p>\n        </div>\n    </div>\n</template>\n\n<script>\n    import upload from './components/upload.vue'\n    export default {\n        name: 'app',\n        components: {\n            upload\n        },\n        data: () => {\n            return {\n                action: 'http://upload.qiniu.com/', // 替换自己的上传链接\n                accept: 'image/png, image/jpeg, image/gif',\n                token: 'QWYn5TFQsLLU1pL5MFEmX3s5DmHdUThav9WyOWOm:JcGnWGIzc0POt2eEWWqUUsW8bN0=:eyJkZWxldGVBZnRlckRheXMiOjcsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUwMjc5MTczMX0=', // 从[http://jssdk.demo.qiniu.io/formdata]获取\n                imghash: '',\n                imgkey: '',\n                uploadMsg: []\n            }\n        },\n        computed: {\n            imgHash: function () {\n                return `http://7j1xky.com2.z0.glb.qiniucdn.com/${this.imghash}`\n            },\n            imgKey: function () {\n                return `http://7j1xky.com2.z0.glb.qiniucdn.com/${this.imgkey}`\n            }\n        },\n        methods: {\n            uploadFile (res) {\n                this.imghash = res.hash\n                this.imgkey = res.key\n            },\n            uploadErr (res) {\n                this.uploadMsg.push(JSON.stringify(res))\n            },\n            progress (e) {\n                this.uploadMsg.push(`e.loaded: ${e.loaded}, e.total: ${e.total}, percent: ${(e.loaded / e.total) * 100}`)\n            }\n        }\n    }\n</script>\n\n<style>\n    #app {\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #2c3e50;\n        text-align: center;\n        margin-top: 60px;\n    }\n    .block,\n    .viewimg {\n        margin: 15px;\n    }\n    .btn {\n        padding: 5px 10px;\n        border: 1px solid #ccc;\n        border-radius: 3px;\n    }\n    .viewimg {\n        max-width: 200px;\n        border: 1px dashed #ccc;\n        border-radius: 4px;\n        padding: 5px;\n        background-color: #ccc;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?7111b74a","<template>\n<div>\n    <form :id=\"formId\" :method=\"method\" enctype=\"multipart/form-data\">\n        <input name=\"token\" type=\"hidden\" :value=\"token\">\n        <input name=\"file\" :id=\"pickerId\" type=\"file\" @change=\"upload\" :accept=\"accept\" />\n        <input name=\"accept\" type=\"hidden\" />\n        <slot name=\"form\">\n        </slot>\n    </form>\n\n    <!-- add file -->\n    <label :for=\"pickerId\">\n            <slot name=\"picker\">\n                <em>upload</em>\n            </slot>\n        </label>\n</div>\n</template>\r\n\r\n<script>\nexport default {\n    props: {\n        method: {\n            type: String,\n            default: 'post'\n        },\n        action: {\n            type: String,\n            default: ''\n        },\n        token: {\n            type: String,\n            default: ''\n        },\n        accept: {\n            type: String,\n            default: 'image/png, image/jpeg, image/gif'\n        },\n        callback: {\n            type: Function,\n            default: () => {\n                // console.log('upload done');\n            }\n        }\n    },\n    data: function () {\n        return {\n            key: '',\n            formId: `upload${new Date().getTime()}`,\n            pickerId: `picker${new Date().getTime()}`\n        }\n    },\n    methods: {\n        upload () {\n            let that = this\n            this.$nextTick(() => {\n                let formData = new FormData(document.getElementById(this.formId))\n                this.$http.post(this.action, formData, {\n                    progress (e) {\n                        if (e.lengthComputable) {\n                            that.$emit('on-progress', e)\n                        }\n                    }\n                }).then(res => {\n                    this.$emit('on-upload', res.body)\n                }, res => {\n                    this.$emit('on-error', res.body)\n                })\n            })\n        }\n    }\n}\n</script>\r\n\r\n<style scoped>\nform {\n    display: none;\n}\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// upload.vue?242d7908","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46dd337e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./upload.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./upload.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46dd337e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./upload.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-46dd337e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload.vue\n// module id = 12\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"token\": _vm.token,\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"on-upload\": _vm.uploadFile,\n      \"on-error\": _vm.uploadErr,\n      \"on-progress\": _vm.progress\n    }\n  }, [_c('template', {\n    slot: \"form\"\n  }), _vm._v(\" \"), _c('template', {\n    slot: \"picker\"\n  }, [_c('span', {\n    staticClass: \"btn\"\n  }, [_vm._v(\"上传图片\")])])], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('h2', [_vm._v(\"上传结果\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_c('p', [_vm._v(\"hash: \" + _vm._s(_vm.imghash))]), _vm._v(\" \"), _c('p', [_vm._v(\"key: \" + _vm._s(_vm.imgkey))])]), _vm._v(\" \"), _c('img', {\n    staticClass: \"viewimg\",\n    attrs: {\n      \"src\": _vm.imgHash,\n      \"alt\": \"imgHash\"\n    }\n  }), _vm._v(\" \"), _c('img', {\n    staticClass: \"viewimg\",\n    attrs: {\n      \"src\": _vm.imgKey,\n      \"alt\": \"imgKey\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.uploadMsg.length),\n      expression: \"uploadMsg.length\"\n    }],\n    staticClass: \"block\",\n    attrs: {\n      \"id\": \"ajaxErr\"\n    }\n  }, [_c('h4', [_vm._v(\"uploadMsg: \")]), _vm._v(\" \"), _vm._l((_vm.uploadMsg), function(item, index) {\n    return _c('p', {\n      key: index\n    }, [_vm._v(_vm._s(item))])\n  })], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0451e830\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 13\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": _vm.formId,\n      \"method\": _vm.method,\n      \"enctype\": \"multipart/form-data\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"name\": \"token\",\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": _vm.token\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"file\",\n      \"id\": _vm.pickerId,\n      \"type\": \"file\",\n      \"accept\": _vm.accept\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"name\": \"accept\",\n      \"type\": \"hidden\"\n    }\n  }), _vm._v(\" \"), _vm._t(\"form\")], 2), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": _vm.pickerId\n    }\n  }, [_vm._t(\"picker\", [_c('em', [_vm._v(\"upload\")])])], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-46dd337e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/upload.vue\n// module id = 14\n// module chunks = 1"],"sourceRoot":""}